#!/usr/bin/env ruby
require 'yaml'
require 'escort'
require_relative '../lib/cli'

Escort::App.create do |app|
  app.options do |opts|
    opts.opt :file, 'file', :short => '-f', :long => '--file', :type => :string

    app.command '--export-json' do |command|
      command.action do |options, arguments|
        Command::CLI.new(options, arguments).execute
      end
    end
    app.command '--prepare-json' do |command|
      command.action do |options, arguments|
        Command::CLI.new(options, arguments).execute
      end
    end
    app.command '--import-content-types' do |command|
      # command.options do |opts|
      #   opts.opt :space, 'space', :short => '-s', :long => '--space', :type => :string
      # end
      command.action do |options, arguments|
        Command::CLI.new(options, arguments).execute
      end
    end
    app.command '--convert-json' do |command|
      command.action do |options, arguments|
        Command::CLI.new(options, arguments).execute
      end
    end
    app.command '--test-credentials' do |command|
      command.action do |options, arguments|
        Command::CLI.new(options, arguments).execute
      end
    end
    app.command '--list-tables' do |command|
      command.action do |options, arguments|
        Command::CLI.new(options, arguments).execute
      end
    end
    app.command '--import' do |command|
      command.options do |opts|
        opts.opt :count, 'count', :short => '-c', :long => '--count', :type => :integer, default: 1
      end
      command.action do |options, arguments|
        Command::CLI.new(options, arguments).execute
      end
    end
  end
end
